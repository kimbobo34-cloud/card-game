<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>짝맞추기 게임</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="game-board" id="gameBoard"></div>

  <script>
    const gameBoard = document.getElementById("gameBoard");

    // 이미지 10종 → 각 2장 = 총 20장
    const images = [];
    for (let i = 1; i <= 10; i++) {
      images.push(`img/${i}.jpg`);
      images.push(`img/${i}.jpg`);
    }

    // 카드 섞기
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    let shuffled = shuffle([...images]);

    // 카드 생성
    shuffled.forEach(src => {
      const card = document.createElement("div");
      card.classList.add("card");
      card.dataset.image = src;

      card.innerHTML = `
        <img src="${src}" alt="card image" style="display: none;">
      `;

      card.addEventListener("click", () => flipCard(card));
      gameBoard.appendChild(card);
    });

    let flippedCards = [];
    let lockBoard = false;

    function flipCard(card) {
      if (lockBoard || card.classList.contains("flipped")) return;

      const img = card.querySelector("img");
      card.classList.add("flipped");
      img.style.display = "block";

      flippedCards.push(card);

      if (flippedCards.length === 2) {
        checkMatch();
      }
    }

    function checkMatch() {
      lockBoard = true;
      const [card1, card2] = flippedCards;
      if (card1.dataset.image === card2.dataset.image) {
        flippedCards = [];
        lockBoard = false;
      } else {
        setTimeout(() => {
          card1.classList.remove("flipped");
          card2.classList.remove("flipped");
          card1.querySelector("img").style.display = "none";
          card2.querySelector("img").style.display = "none";
          flippedCards = [];
          lockBoard = false;
        }, 1000);
      }
    }
  </script>
</body>
</html>
